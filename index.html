<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Qu√°n c∆°m Huy</title>
<style>
/* ===== RESET & BASE ===== */
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter, Arial, sans-serif}
body{background:#f8fafc;color:#222;line-height:1.5}
a{color:inherit}

/* ===== HEADER ===== */
.header{background:#0b6e4f;padding:14px 22px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:1000;box-shadow:0 4px 14px rgba(0,0,0,0.06)}
.logo{color:#fff;font-weight:800;font-size:22px}
.header nav a{color:#fff;margin-left:16px;text-decoration:none;font-weight:600}
.header nav a:hover{opacity:0.95}

/* SIDEBAR SEARCH */
.sidebar-search{position:fixed;left:18px;top:120px;width:220px;background:#fff;padding:12px;border-radius:10px;box-shadow:0 8px 24px rgba(0,0,0,0.06);z-index:900}
.sidebar-search input{width:100%;padding:10px;border-radius:8px;border:1px solid #eee}

/* BANNER */
.banner-slider{max-width:1200px;margin:20px auto;border-radius:12px;overflow:hidden;box-shadow:0 6px 22px rgba(0,0,0,0.12)}
.slides{display:flex;transition:transform .6s ease}
.slide{min-width:100%}
.slide img{width:100%;height:420px;object-fit:cover;display:block}
.slider-nav{position:absolute;top:50%;transform:translateY(-50%);width:100%;display:flex;justify-content:space-between;padding:0 12px}
.slider-nav button{background:rgba(10,92,61,0.85);border:none;color:#fff;padding:10px 12px;border-radius:8px;cursor:pointer}
.dots{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px}
.dots button{width:12px;height:12px;border-radius:50%;border:2px solid #0a5c3d;background:transparent;cursor:pointer}
.dots button.active{background:#0a5c3d}

/* CONTENT */
.container{max-width:1100px;margin:0 auto;padding:24px}
.section{margin-bottom:28px}
.section h2{text-align:center;color:#0b6e4f;font-size:28px;margin-bottom:18px}

/* MENU GRID */
.menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:22px}
.menu-item{background:#fff;border-radius:12px;padding:14px;text-align:center;box-shadow:0 6px 18px rgba(11,110,79,0.06);transition:transform .18s ease,box-shadow .18s ease}
.menu-item:hover{transform:translateY(-6px);box-shadow:0 12px 28px rgba(11,110,79,0.08)}
.menu-item img{width:100%;height:150px;object-fit:cover;border-radius:8px;margin-bottom:10px}
.menu-item h3{color:#0b6e4f;margin-bottom:8px}
.price{font-weight:700;color:#0b6e4f;margin-bottom:8px}
.add-to-cart-btn{background:#0b6e4f;color:#fff;border:none;padding:10px;border-radius:8px;cursor:pointer;font-weight:700}

/* POPUPS */
.popup{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:3000}
.hidden{display:none}
.popup-box{background:#fff;padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.18);width:340px;max-width:92%;text-align:center;position:relative}
.popup-box img{width:160px;height:120px;object-fit:cover;border-radius:8px;margin-bottom:8px}
.popup-box .close{position:absolute;right:12px;top:10px;font-size:22px;border:none;background:transparent;cursor:pointer}

/* CART PANEL */
#cartPopup{position:fixed;top:0;right:0;bottom:0;width:360px;background:#fff;box-shadow:-8px 0 30px rgba(0,0,0,0.15);transform:translateX(110%);transition:transform .32s ease;padding:18px;z-index:2800}
#cartPopup.active{transform:translateX(0)}
.cart-items{max-height:70vh;overflow:auto;margin-top:12px}
.cart-item{display:flex;gap:10px;align-items:center;margin-bottom:12px}
.cart-item img{width:72px;height:56px;object-fit:cover;border-radius:8px}
.qty-controls{display:flex;gap:8px;align-items:center}
.qty-controls button{background:#0b6e4f;color:#fff;border:none;padding:6px 8px;border-radius:6px;cursor:pointer}
.cart-total{margin-top:12px;text-align:right;font-weight:700;color:#0b6e4f}
.cart-actions{display:flex;gap:8px;margin-top:12px}
.clear-btn{background:#eee;border:none;padding:8px;border-radius:8px;cursor:pointer}
.checkout-btn{background:#0b6e4f;color:#fff;border:none;padding:10px;border-radius:8px;cursor:pointer}

/* FLOATING BUTTONS */
.floating-buttons{position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:12px;z-index:3200;align-items:center}
.cart-btn{width:64px;height:64px;border-radius:50%;background:#006837;color:#fff;border:none;font-size:22px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}
.cart-count{position:absolute;top:-8px;right:-8px;background:#ff3b30;color:#fff;width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700}
.zalo-pill{background:#fff;border:2px solid #0b6e4f;color:#0b6e4f;padding:10px 14px;border-radius:999px;font-weight:700;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,0.08)}

/* FOOTER */
.footer{background:#0b6e4f;color:#fff;padding:18px;text-align:center;margin-top:20px;border-top-left-radius:12px;border-top-right-radius:12px}

/* RESPONSIVE */
@media(max-width:900px){.sidebar-search{display:none}.slide img{height:220px}.menu-grid{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}}
</style>
</head>
<body>
<header class="header">
  <div class="logo">Qu√°n c∆°m Huy</div>
  <nav>
    <a href="#home">Trang ch·ªß</a>
    <a href="#menu">Th·ª±c ƒë∆°n</a>
    <a href="#promo">Khuy·∫øn m√£i</a>
    <a href="#contact">Li√™n h·ªá</a>
    <a href="cart.html">Gi·ªè h√†ng</a>
  </nav>
</header>

<div class="sidebar-search" aria-hidden="false">
  <input id="searchInput" placeholder="T√¨m m√≥n ƒÉn..." aria-label="T√¨m m√≥n" />
</div>

<section class="banner-slider" aria-hidden="false">
  <div class="slides" id="slides">
    <div class="slide"><img src="image/Screenshot 2025-12-06 232126.png" alt="Banner 1"></div>
    <div class="slide"><img src="image/comga.png" alt="Banner 2"></div>
    <div class="slide"><img src="image/comga1.png" alt="Banner 3"></div>
  </div>
  <div class="slider-nav">
    <button id="prevBtn" aria-label="Previous">‚ùÆ</button>
    <button id="nextBtn" aria-label="Next">‚ùØ</button>
  </div>
  <div class="dots" id="dots"></div>
</section>

<main class="container" id="home">
  <section id="menu" class="section">
    <h2>Th·ª±c ƒë∆°n h√¥m nay</h2>
    <div class="menu-grid" id="menuGrid"></div>
  </section>

 <section id="promo" class="section-box">
    <h2>Khuy·∫øn m√£i</h2>
    <div class="promo-text">
        Gi·∫£m 10% cho kh√°ch m·ªõi ‚Äì T·∫∑ng n∆∞·ªõc cho ƒë∆°n t·ª´ 100k
    </div>
</section>

    <h2>ƒê√°nh gi√°</h2>
      <div class="review">"C∆°m ngon, ph·ª•c v·ª• nhanh" ‚Äìƒê·ªó H·∫£i</div>
    <div class="review">"ƒê·ªì ƒÉn nhi·ªÅu, gi√° h·ª£p l√Ω" ‚Äì Hu·∫ø Ph·∫°m</div>
    <div class="review">"ƒê·ªì ƒÉn ngon, gi√° r·∫ª" ‚Äì H∆∞∆°ng Ph·∫°m</div>
    <div class="review">"Ngon nh·∫•t ƒê·∫Øk N√¥ng" ‚Äì ƒê√¨nh ƒê∆∞·ªùng</div>
  </section>

   <section id="contact" class="section-box">
    <h2>Li√™n h·ªá</h2>

    <div class="contact-info">
        <p>üìç ƒê·ªãa ch·ªâ: 37 V≈© Anh Ba, ƒê√¥ng Gia Nghƒ©a, L√¢m ƒê·ªìng</p>
        <p>üìû SƒêT: 091.133.1979 ‚Äì 091.904.1179</p>
        <p>üìß Email: dohuyhuyisme@gmail.com</p>
    </div>

    <iframe
        src="https://www.google.com/maps?q=11.998689185555442,107.69414520220066&z=17&output=embed"
        width="100%" height="350"
        style="border:0;border-radius:12px;margin-top:20px;"
        loading="lazy">
    </iframe>
</section>


<!-- CART PANEL -->
<aside id="cartPopup" aria-hidden="true">
  <button class="close-panel" onclick="closeCart()" aria-label="ƒê√≥ng gi·ªè h√†ng">‚úñ</button>
  <h3>Gi·ªè h√†ng</h3>
  <div class="cart-items" id="cartItems" aria-live="polite"></div>
  <div class="cart-total">T·ªïng: <span id="cartTotal">0</span>ƒë</div>
  <div class="cart-actions">
    <button class="clear-btn" onclick="clearCart()">X√≥a h·∫øt</button>
    <button class="checkout-btn" onclick="openCheckout()">Thanh to√°n</button>
  </div>
</aside>

<!-- QUANTITY POPUP -->
<div id="qtyPopup" class="popup hidden" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="popup-box">
    <button class="close" onclick="closeQuantityPopup()" aria-label="ƒê√≥ng">‚úñ</button>
    <h3 id="popupName">T√™n m√≥n</h3>
    <img id="popupImg" alt="">
    <p id="popupPrice"></p>
    <div style="margin-top:8px">S·ªë l∆∞·ª£ng: <input id="popupQty" type="number" value="1" min="1"></div>
    <button class="confirm-btn" onclick="addToCartFromPopup()">Th√™m v√†o gi·ªè</button>
  </div>
</div>

<!-- CHECKOUT MODAL -->
<div id="checkoutModal" class="popup hidden" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="popup-box">
    <button class="close" onclick="closeCheckout()">‚úñ</button>
    <h3>X√°c nh·∫≠n ƒë·∫∑t h√†ng</h3>
    <div id="checkoutSummary" style="text-align:left;max-height:260px;overflow:auto;margin-bottom:10px"></div>
    <input id="custName" placeholder="H·ªç t√™n" />
    <input id="custPhone" placeholder="S·ªë ƒëi·ªán tho·∫°i" />
    <textarea id="custAddr" placeholder="ƒê·ªãa ch·ªâ giao"></textarea>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button class="confirm-btn" style="flex:1" onclick="sendOrderZalo()">G·ª≠i qua Zalo</button>
      <button class="clear-btn" style="flex:1" onclick="closeCheckout()">H·ªßy</button>
    </div>
  </div>
</div>

<!-- ZALO POPUP (PILL) -->
<div id="zaloPopup" class="popup hidden" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="popup-box">
    <button class="close" onclick="closeZaloPopup()">‚úñ</button>
    <h3>K·∫øt n·ªëi Zalo</h3>
    <p>Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ m·ªü chat Zalo v·ªõi c·ª≠a h√†ng.</p>
    <a class="zalo-open" href="https://zalo.me/0911331979" target="_blank" rel="noopener">M·ªü Zalo</a>
  </div>
</div>

<!-- FLOATING (pill) ZALO BUTTON + CART BUTTON -->
<div class="floating-buttons">
  <button id="cartBtn" class="cart-btn" aria-label="M·ªü gi·ªè h√†ng">üõí <span id="cartCount" class="cart-count">0</span></button>
  <button id="zaloPill" class="zalo-pill" aria-label="Li√™n h·ªá Zalo">Li√™n h·ªá Zalo</button>
</div>

<footer class="footer">¬© 2025 Qu√°n c∆°m Huy</footer>

<script src="slider.js"></script>
<script>
/* ---------- MENU DATA ---------- */
/* ---------- MENU DATA ---------- */
const MENU = [

  // ---- M√ìN G√Ä (35K ‚Äì 50K) ----
  {
    name: 'C∆°m g√† chi√™n',
    price: '35.000ƒë ‚Äì 50.000ƒë',
    min: 35000,
    max: 50000,
    img: 'image/comchien.png'
  },
  {
    name: 'C∆°m g√† lu·ªôc',
    price: '35.000ƒë ‚Äì 50.000ƒë',
    min: 35000,
    max: 50000,
    img: 'image/comluoc.png'
  },
  {
    name: 'C∆°m g√† x√©',
    price: '35.000ƒë ‚Äì 50.000ƒë',
    min: 35000,
    max: 50000,
    img: 'image/comxe.png'
  },

  // ---- C∆†M PH·∫¶N (ƒê·ªìng gi√° 35K) ----
  { name:'Tr·ª©ng chi√™n', price:'35.000ƒë', fixed:35000, img:'image/trungchien.png' },
  { name:'C√° b·ªëng kho t·ªô', price:'35.000ƒë', fixed:35000, img:'image/cabong.png' },
  { name:'Th·ªãt kho t√†u', price:'35.000ƒë', fixed:35000, img:'image/thitkotau.png' },
  { name:'Th·ªãt kho tr·ª©ng', price:'35.000ƒë', fixed:35000, img:'image/thitkotrung.png' },
  { name:'C√° l√≥c kho ngh·ªá', price:'35.000ƒë', fixed:35000, img:'image/caloc.png' },
  { name:'Th·ªãt lu·ªôc', price:'35.000ƒë', fixed:35000, img:'image/thitluoc.png' },

  // ---- M√ìN TH√äM ----
  { name:'C∆°m th√™m', price:'5.000ƒë', fixed:5000, img:'image/comthem.png' },
  { name:'Canh th√™m', price:'5.000ƒë', fixed:5000, img:'image/canhthem.png' },
  { name:'Rau th√™m', price:'5.000ƒë', fixed:5000, img:'image/rauthem.png' }
];

/* ---------- RENDER MENU ---------- */
function renderMenu(filter='') {
  const grid = document.getElementById('menuGrid');
  grid.innerHTML = '';
  const q = (filter||'').toLowerCase().trim();

  MENU.filter(i => !q || i.name.toLowerCase().includes(q))
      .forEach(item => {

    const d = document.createElement('div');
    d.className = 'menu-item';
    d.dataset.name = item.name;

    // Gi√° d√πng ƒë·ªÉ ƒë·∫∑t m√≥n: ∆∞u ti√™n min n·∫øu c√≥
    d.dataset.price = item.min || item.fixed;
    d.dataset.img = item.img;

    d.innerHTML = `
      <img src="${item.img}" alt="${item.name}">
      <h3>${item.name}</h3>
      <div class="price">${item.price}</div>
      <button class="add-to-cart-btn" onclick="openQuantityPopup(this)">ƒê·∫∑t m√≥n</button>
    `;
    grid.appendChild(d);
  });
}

/* ---------- SEARCH ---------- */
document.getElementById('searchInput').addEventListener('input', e => renderMenu(e.target.value));

/* ---------- CART / STORAGE ---------- */
let cart = JSON.parse(localStorage.getItem('qc_cart') || '{}');
function saveCart(){ localStorage.setItem('qc_cart', JSON.stringify(cart)); }
function updateCartCount(){ const total = Object.values(cart).reduce((s,i)=>s+(i.qty||0),0); document.getElementById('cartCount').innerText = total; }
function renderCart(){ const box = document.getElementById('cartItems'); box.innerHTML=''; let total=0; Object.keys(cart).forEach(name=>{ const it = cart[name]; const sub = it.price*it.qty; total+=sub; const el = document.createElement('div'); el.className='cart-item'; el.innerHTML = `<img src="${it.img}" alt=""><div><strong>${name}</strong><br>${it.price.toLocaleString()}ƒë</div><div class="qty-controls"><button onclick="changeQty('${name}',-1)">‚àí</button><span>${it.qty}</span><button onclick="changeQty('${name}',1)">+</button></div><div><strong>${sub.toLocaleString()}ƒë</strong></div>`; box.appendChild(el); }); document.getElementById('cartTotal').innerText = total.toLocaleString(); }
function openCart(){ document.getElementById('cartPopup').classList.add('active'); renderCart(); document.getElementById('cartPopup').setAttribute('aria-hidden','false'); }
function closeCart(){ document.getElementById('cartPopup').classList.remove('active'); document.getElementById('cartPopup').setAttribute('aria-hidden','true'); }
function changeQty(name,delta){ if(!cart[name]) return; cart[name].qty+=delta; if(cart[name].qty<=0) delete cart[name]; saveCart(); renderCart(); updateCartCount(); }
function clearCart(){ cart = {}; saveCart(); renderCart(); updateCartCount(); }

/* ---------- QUANTITY POPUP ---------- */
let pendingItem = null;
function openQuantityPopup(btn){
  const item = btn.closest('.menu-item');
  pendingItem = { name: item.dataset.name, price: Number(item.dataset.price), img: item.dataset.img };
  document.getElementById('popupName').innerText = pendingItem.name;
  document.getElementById('popupImg').src = pendingItem.img;
  document.getElementById('popupPrice').innerText = pendingItem.price.toLocaleString() + 'ƒë';
  document.getElementById('popupQty').value = 1;
  document.getElementById('qtyPopup').classList.remove('hidden');
  document.getElementById('qtyPopup').setAttribute('aria-hidden','false');
}
function closeQuantityPopup(){ document.getElementById('qtyPopup').classList.add('hidden'); document.getElementById('qtyPopup').setAttribute('aria-hidden','true'); pendingItem = null; }
function addToCartFromPopup(){ const q = Math.max(1, Number(document.getElementById('popupQty').value||1)); if(!pendingItem) return; const name = pendingItem.name; if(!cart[name]) cart[name] = { price: pendingItem.price, qty:0, img: pendingItem.img }; cart[name].qty += q; saveCart(); updateCartCount(); closeQuantityPopup(); }

/* ---------- CHECKOUT ---------- */
function openCheckout(){ renderCart(); document.getElementById('checkoutSummary').innerHTML = document.getElementById('cartItems').innerHTML; document.getElementById('checkoutModal').classList.remove('hidden'); document.getElementById('checkoutModal').setAttribute('aria-hidden','false'); }
function closeCheckout(){ document.getElementById('checkoutModal').classList.add('hidden'); document.getElementById('checkoutModal').setAttribute('aria-hidden','true'); }
function sendOrderZalo(){
  const name = document.getElementById('custName').value.trim(); const phone = document.getElementById('custPhone').value.trim(); const addr = document.getElementById('custAddr').value.trim();
  if(!name || !phone) { alert('Vui l√≤ng nh·∫≠p h·ªç t√™n v√† s·ªë ƒëi·ªán tho·∫°i'); return; }
  const items = Object.keys(cart);
  if(items.length === 0) { alert('Gi·ªè h√†ng tr·ªëng'); return; }
  let total = 0; let msg = 'üõµ ƒê∆†N H√ÄNG M·ªöI\n\n';
  items.forEach(k => { const it = cart[k]; msg += `‚Ä¢ ${k} x ${it.qty} = ${(it.qty*it.price).toLocaleString()}ƒë\n`; total += it.qty*it.price; });
  msg += `\nT·ªïng: ${total.toLocaleString()}ƒë\n\nKh√°ch: ${name}\nSƒêT: ${phone}\nƒê·ªãa ch·ªâ: ${addr}`;
  const zalo = '0911331979';
  window.open(`https://zalo.me/${zalo}?text=${encodeURIComponent(msg)}`, '_blank');
  cart = {}; saveCart(); updateCartCount(); closeCheckout(); closeCart();
}

/* ---------- ZALO POPUP (PILL) ---------- */
const zaloPill = document.getElementById('zaloPill');
function openZaloPopup(){ document.getElementById('zaloPopup').classList.remove('hidden'); document.getElementById('zaloPopup').setAttribute('aria-hidden','false'); }
function closeZaloPopup(){ document.getElementById('zaloPopup').classList.add('hidden'); document.getElementById('zaloPopup').setAttribute('aria-hidden','true'); }
if(zaloPill){ zaloPill.addEventListener('click', (e)=>{ e.preventDefault(); openZaloPopup(); }); }

/* ---------- POPUP CLOSE HELPERS (robust) ---------- */
function showPopup(el){ if(!el) return; el.classList.remove('hidden'); el.setAttribute('aria-hidden','false'); el.style.display = '' }
function hidePopup(el){ if(!el) return; el.classList.add('hidden'); el.setAttribute('aria-hidden','true'); el.style.display = 'none' }
// attach closes
document.addEventListener('click', function(e){
  // close buttons
  if(e.target.matches('.popup .close') || e.target.matches('.close-panel')){
    const p = e.target.closest('.popup') || document.getElementById('cartPopup');
    if(p && p.id==='qtyPopup') closeQuantityPopup();
    else if(p && p.id==='checkoutModal') closeCheckout();
    else if(p && p.id==='zaloPopup') closeZaloPopup();
    else if(p && p.id==='cartPopup') closeCart();
    else if(p) hidePopup(p);
  }
  // overlay click
  if(e.target.classList && e.target.classList.contains('popup')){
    hidePopup(e.target);
  }
});

/* ---------- INIT ---------- */
renderMenu(); updateCartCount();
document.getElementById('cartBtn').addEventListener('click', openCart);

</script>
</body>
</html>
